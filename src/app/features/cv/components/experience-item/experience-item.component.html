<div class="projects-section" *ngIf="(projects()?.length ?? 0) > 0">
  <div class="projects-header">
    <h4>Projects ({{ projects().length }})</h4>
    <button
      mat-mini-fab
      (click)="toggleAll()"
      *ngIf="projects"
      matTooltip="Collapse all"
    >
      <mat-icon>{{ "unfold_less" }}</mat-icon>
    </button>
    <button
      mat-mini-fab
      (click)="toggleAll(false)"
      *ngIf="projects"
      matTooltip="Expand all"
    >
      <mat-icon>{{ "unfold_more" }}</mat-icon>
    </button>
  </div>

  <mat-accordion multi>
    <mat-expansion-panel *ngFor="let project of projects()">
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ project.name }}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <p *ngIf="project.role">
        <strong>Role: </strong>
        <span>{{ project.role }}</span>
      </p>

      <p *ngIf="project.achievements">
        <strong>Key Achievements:</strong>
        <span>{{ project.achievements }}</span>
      </p>

      <strong>Technologies Used:</strong>
      <mat-chip-set *ngIf="project.technologies?.length">
        <mat-chip *ngFor="let tech of project.technologies">{{
          tech
        }}</mat-chip>
      </mat-chip-set>
    </mat-expansion-panel>
  </mat-accordion>
</div>
